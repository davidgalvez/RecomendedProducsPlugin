{"version":3,"file":"index.js","mappings":"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","sources":["webpack://woorelproducts/./src/relProds/index.js","webpack://woorelproducts/external window [\"wp\",\"blockEditor\"]","webpack://woorelproducts/external window [\"wp\",\"blocks\"]","webpack://woorelproducts/external window [\"wp\",\"components\"]","webpack://woorelproducts/external window [\"wp\",\"data\"]","webpack://woorelproducts/external window [\"wp\",\"element\"]","webpack://woorelproducts/external window [\"wp\",\"htmlEntities\"]","webpack://woorelproducts/webpack/bootstrap","webpack://woorelproducts/webpack/runtime/compat get default export","webpack://woorelproducts/webpack/runtime/define property getters","webpack://woorelproducts/webpack/runtime/hasOwnProperty shorthand","webpack://woorelproducts/webpack/runtime/make namespace object","webpack://woorelproducts/./src/index.js"],"sourcesContent":["\r\nimport { registerBlockType } from '@wordpress/blocks';\r\nimport { withSelect } from '@wordpress/data';\r\nimport { InspectorControls } from '@wordpress/block-editor';\r\nimport { PanelBody, SelectControl, TextControl } from '@wordpress/components';\r\nimport { decodeEntities } from \"@wordpress/html-entities\";\r\n\r\nregisterBlockType('woorelprods/relprods', {\r\n    apiVersion: 2,\r\n    title: 'Related Productcs List',\r\n    attributes: \r\n    {\r\n        \r\n        selListId:\r\n        {\r\n            type: \"number\"\r\n        },\r\n        titleBLock:\r\n        {\r\n            type: \"string\",\r\n            default: \"Related Products\"\r\n        }\r\n    },\r\n    edit: withSelect((select, props)=>{\r\n\r\n        //extraer valores de atributos\r\n        const {attributes: {titleBLock, selListId},setAttributes} = props;\r\n        \r\n        \r\n        const onChangeselListId = newselListId =>{\r\n            setAttributes({selListId: parseInt(newselListId)})\r\n        }\r\n        const onChangetitleBLock = newTitle =>{\r\n            setAttributes({titleBLock: newTitle})\r\n        }\r\n        return {\r\n           \r\n            relatedList:  select(\"core\").getEntityRecords('postType','woorelproducts',{\r\n                per_page:5\r\n            }), \r\n            idSelected:selListId, \r\n            products: [],\r\n            onChangeselListId,\r\n            onChangetitleBLock,\r\n            props\r\n        };\r\n    })\r\n    (({relatedList,idSelected,products,onChangeshowQuantity,onChangeselListId,onChangetitleBLock, props}) => {\r\n        \r\n\r\n        //Validate relatedProductsList\r\n        if(!relatedList){\r\n            return 'Loading related products...';\r\n        }\r\n\r\n        if(relatedList && relatedList.length===0){\r\n            return 'Loading related products...';\r\n        }\r\n\r\n        if(idSelected!==0 && typeof relatedList !== 'undefined')\r\n        {\r\n            relatedList.forEach(relProdList=>{\r\n                if(relProdList.id==idSelected){\r\n                    products=relProdList.related_Prods_List\r\n                }\r\n            })\r\n        }        \r\n       \r\n\r\n        //extract from props\r\n        const {attributes: {selListId, titleBLock},setAttributes} = props;        \r\n        \r\n\r\n        //Generamos los label y values de las relatedList para mostralo en el panel body\r\n        relatedList.forEach(relProdList=>{\r\n            relProdList['label']=relProdList.title_list;\r\n            relProdList['value']=relProdList.id;\r\n        })\r\n\r\n        // Arreglo con valores por default\r\n        const opcionDefault = [{value:'0',label:'--Todos--'}];\r\n\r\n        const listadorelatedList= [...opcionDefault,...relatedList];\r\n                \r\n\r\n        return (\r\n            <>\r\n                <InspectorControls>\r\n                      <PanelBody                              \r\n                            title={'Related Products Lists'}\r\n                            initialOpen={true}\r\n                      >   \r\n                            <div className='components-base-control'>\r\n                                  <div className='components-base-control__field'>\r\n                                        <label className='components-base-control__label'>\r\n                                        Related Products Lists\r\n                                        </label>\r\n                                        <SelectControl \r\n                                            options={ listadorelatedList }\r\n                                            onChange={onChangeselListId}\r\n                                            value={selListId}\r\n                                        />\r\n                                  </div>\r\n                            </div>                                    \r\n                      </PanelBody>\r\n                      <PanelBody                              \r\n                            title={'Block Title'}\r\n                            initialOpen={false}\r\n                      >   \r\n                            <div className='components-base-control'>\r\n                                  <div className='components-base-control__field'>\r\n                                        <label className='components-base-control__label'>\r\n                                        Block Title\r\n                                        </label>\r\n                                        <TextControl \r\n                                            onChange={onChangetitleBLock}\r\n                                            value={titleBLock}\r\n                                        />\r\n                                  </div>\r\n                            </div>                                    \r\n                      </PanelBody>\r\n                </InspectorControls>\r\n                <h3 className=\"titulo-menu\">{titleBLock}</h3>\r\n                <div className=\"container\">\r\n                  \r\n                <div class=\"items\">\r\n                {\r\n                products.map(product =>(\r\n                    <div className=\"entry\">\r\n                        <p className=\"name\"><a href={product.permalink}>{product.title}</a></p>\r\n                        <img src={product.thubnail_url}  />\r\n                        <p className=\"quote\">{ decodeEntities(product.currency) } {product.price}</p>\r\n                        <a className='link' href={product.url} >{product.urlText}</a>\r\n\r\n                    </div>\r\n                ))}\r\n                </div>   \r\n                </div>          \r\n            </>\r\n        )\r\n    }),   \r\n    save: () =>{\r\n        return null;\r\n    }\r\n})","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"./relProds\";"],"names":["registerBlockType","withSelect","InspectorControls","PanelBody","SelectControl","TextControl","decodeEntities","apiVersion","title","attributes","selListId","type","titleBLock","default","edit","select","props","setAttributes","onChangeselListId","newselListId","parseInt","onChangetitleBLock","newTitle","relatedList","getEntityRecords","per_page","idSelected","products","onChangeshowQuantity","length","forEach","relProdList","id","related_Prods_List","title_list","opcionDefault","value","label","listadorelatedList","map","product","permalink","thubnail_url","currency","price","url","urlText","save"],"sourceRoot":""}